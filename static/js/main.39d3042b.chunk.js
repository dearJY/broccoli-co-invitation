(this["webpackJsonpbroccoli-co-invitatio"]=this["webpackJsonpbroccoli-co-invitatio"]||[]).push([[0],{72:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(10),r=a.n(c),o=(a(72),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,140)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),c(e),r(e)}))}),l=a(126),s=a(134),d=a(59),u=a(37),j=a(14),m=a(136),b=a(129),h=a(18),p=a(138),O=a(131),f=a(133),v=a(135),x=a(132),g=a(5),C=Object(l.a)((function(e){return{modalContainer:{"& .MuiDialog-paper":{width:500,padding:e.spacing(3),"& > div":{padding:0}}},modalTitle:{textAlign:"center"},modalActions:{marginTop:e.spacing(5)}}}));function w(e){var t=Object(b.a)(Object(h.a)().breakpoints.down("sm")),a=C(),n=e.showModal,i=e.closeHandler;return Object(g.jsxs)(p.a,{className:a.modalContainer,fullScreen:t,open:n,"data-testid":"success-modal",children:[Object(g.jsx)(O.a,{className:a.modalTitle,"data-testid":"success-modal-title",children:"All done!"}),Object(g.jsx)(x.a,{"data-testid":"success-modal-text",children:"You will be one of the first to experience Broccoli & Co. when we launch."}),Object(g.jsx)("div",{className:a.modalActions,children:Object(g.jsx)(m.a,{variant:"outlined",fullWidth:!0,name:"ok",onClick:i,children:"Ok"})})]})}var y=a(57),S=a.n(y);var k=function(e,t){var a=Object(n.useRef)(!0);Object(n.useEffect)((function(){a.current?a.current=!1:e()}),t)},N=Object(l.a)((function(e){return{modalContainer:{"& .MuiDialog-paper":{width:500,padding:e.spacing(3),"& > div":{padding:0}}},modalTitle:{textAlign:"center"},modalContent:{display:"flex",flexDirection:"column","& > div":{marginTop:e.spacing(2)}},modalActions:{marginTop:e.spacing(5)}}}));function T(e){var t=N(),a=Object(b.a)(Object(h.a)().breakpoints.down("sm")),i=e.showModal,c=e.closeHandler,r=Object(n.useState)(""),o=Object(j.a)(r,2),l=o[0],s=o[1],u=Object(n.useState)(!0),x=Object(j.a)(u,2),C=x[0],y=x[1],T=Object(n.useState)(""),A=Object(j.a)(T,2),B=A[0],M=A[1],E=Object(n.useState)(!0),F=Object(j.a)(E,2),D=F[0],I=F[1],P=Object(n.useState)(""),H=Object(j.a)(P,2),R=H[0],W=H[1],L=Object(n.useState)(!0),q=Object(j.a)(L,2),J=q[0],z=q[1],U=Object(n.useState)(!1),Y=Object(j.a)(U,2),G=Y[0],K=Y[1],Q=Object(n.useState)(!1),V=Object(j.a)(Q,2),X=V[0],Z=V[1],$=Object(n.useState)(""),_=Object(j.a)($,2),ee=_[0],te=_[1],ae=Object(n.useState)(!0),ne=Object(j.a)(ae,2),ie=ne[0],ce=ne[1],re=function(e,t){var a=t.target.value;switch(e){case"name":s(a);break;case"email":M(a);break;case"confirmEmail":W(a)}},oe=function(){c(),se()},le=function(){Z(!X)},se=function(){s(""),M(""),W(""),te("")};return k((function(){y(!l||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;try{return t.trim().length>=e}catch(a){return!1}}(3,l)),I(!B||function(e){try{return/\S+@\S+/.test(e.trim())}catch(t){return!1}}(B)),z(!R||function(e,t){try{return e.trim()===t.trim()}catch(a){return!1}}(B,R))}),[l,B,R]),Object(n.useEffect)((function(){var e=[l,B,R].some((function(e){return!e}));ce(G||e||!C||!D||!J)}),[l,B,R,C,D,J,G]),Object(g.jsxs)("div",{children:[Object(g.jsxs)(p.a,{className:t.modalContainer,fullScreen:a,open:i,onClose:oe,"data-testid":"invite-modal",disableBackdropClick:G,children:[Object(g.jsx)(O.a,{className:t.modalTitle,"data-testid":"invite-modal-title",children:"Request an invite"}),Object(g.jsxs)(f.a,{className:t.modalContent,"data-testid":"invite-modal-form",children:[Object(g.jsx)(v.a,{"data-testid":"full-name-input",id:"full-name-input",variant:"outlined",label:"Full name",type:"text",value:l,error:!C,helperText:C?"":"At least 3 characters",onChange:function(e){return re("name",e)}}),Object(g.jsx)(v.a,{"data-testid":"email-input",id:"email-input",variant:"outlined",label:"Email",type:"email",value:B,error:!D,helperText:D?"":"Incorrect email format",onChange:function(e){return re("email",e)}}),Object(g.jsx)(v.a,{"data-testid":"confirm-email-input",id:"confirm-email-input",variant:"outlined",label:"Confirm email",type:"email",value:R,error:!J,helperText:J?"":"Not match pre-entered email",onChange:function(e){return re("confirmEmail",e)}})]}),Object(g.jsx)("div",{className:t.modalActions,children:Object(g.jsx)(m.a,{variant:"contained",color:"primary",fullWidth:!0,name:"submit",disabled:ie,onClick:function(){var e,t;K(!0),te(""),(e=l,t=B,S()({method:"post",url:"https://l94wc2001h.execute-api.ap-southeast-2.amazonaws.com/prod/fake-auth",data:{name:e,email:t},timeout:1e4})).then((function(){oe(),le()})).catch((function(e){te(e.message||"Unknown")})).finally((function(){K(!1)}))},children:G?"Sending, please wait...":"Send"})}),ee&&Object(g.jsxs)(d.a,{variant:"body2",color:"error","data-testid":"error-message",children:["Error: ",ee,". Please try again or contact ",Object(g.jsx)("a",{href:"mailto: support@airwallex.com",children:"support@airwallex.com"})," for help."]})]}),Object(g.jsx)(w,{showModal:X,closeHandler:le})]})}var A=Object(l.a)((function(e){return{mainPage:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},inviteContainer:{textAlign:"center","& > *:not(:first-child)":{marginTop:e.spacing(2)}}}}));function B(){var e=A(),t=Object(n.useState)(!1),a=Object(j.a)(t,2),i=a[0],c=a[1],r=function(){c(!i)};return Object(g.jsxs)("div",{className:e.mainPage,children:[Object(g.jsxs)("div",{className:e.inviteContainer,"data-testid":"inivite-container",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)(d.a,{variant:"h2",children:"A better way"}),Object(g.jsx)(d.a,{variant:"h2",children:"to enjoy every day"})]}),Object(g.jsx)(d.a,{variant:"body1",children:"Be the first to know when we launch"}),Object(g.jsx)(m.a,{variant:"outlined",color:"primary",onClick:r,children:"Request an invite"})]}),Object(g.jsx)(T,{showModal:i,closeHandler:r})]})}var M=Object(l.a)((function(e){return{brand:{fontWeight:"bold"},app:{display:"flex",flexDirection:"column",color:u.a[900],height:"100%"},appBar:{backgroundColor:u.a[300],padding:e.spacing(4,24),margin:0,maxWidth:"100%"},appContent:{flex:1,overflow:"auto"},appFooter:{textAlign:"center"}}}));function E(){var e=M();return Object(g.jsxs)("div",{className:e.app,children:[Object(g.jsx)(s.a,{className:e.appBar,"data-testid":"home-header",children:Object(g.jsx)(d.a,{variant:"h5",color:"inherit",className:e.brand,children:"BROCCOLI & CO."})}),Object(g.jsx)("main",{className:e.appContent,children:Object(g.jsx)(B,{})}),Object(g.jsxs)(s.a,{className:"".concat(e.appFooter," ").concat(e.appBar),"data-testid":"home-footer",children:[Object(g.jsx)(d.a,{variant:"body1",children:"Made with love in Melbourne."}),Object(g.jsx)(d.a,{variant:"body1",children:"2021 Broccoli & CO. All rights reserved"})]})]})}r.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(E,{})}),document.getElementById("root")),o()}},[[97,1,2]]]);
//# sourceMappingURL=main.39d3042b.chunk.js.map